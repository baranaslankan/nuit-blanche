<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="assets/style.css" />
    <title>Nuit Blanche</title>
  </head>
  <body class="homepage">
    <!-- Image Modal -->
    <div class="image-modal" id="imageModal">
      <div class="modal-overlay" id="modalOverlay"></div>
      <div class="modal-content">
        <button class="modal-close" id="modalClose">
          <svg width="24" height="24" fill="white">
            <path d="M18 6L6 18M6 6l12 12" stroke="white" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </button>
        <img src="" alt="" class="modal-image" id="modalImage" />
      </div>
    </div>

    <div class="menu-modal" id="menuModal">
      <div class="menu-content">
        <div class="menu-header">
          <span class="menu-label">Menu</span>
          <button class="menu-close" id="menuClose">
            <svg width="20" height="20" fill="white">
              <path d="M15 5L5 15M5 5l10 10" stroke="white" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </button>
        </div>
        <nav class="menu-nav">
          <a href="#" class="menu-item">Home page</a>
          <a href="#" class="menu-item">Upcoming Events</a>
          <a href="#" class="menu-item">Saved Event</a>
          <a href="#" class="menu-item">Schedule Event</a>
        </nav>
      </div>
    </div>

    <header class="header">
      <div class="header-left">
        <button class="menu-btn" id="menuBtn">
          <div class="hamburger" id="hamburger">
            <span></span>
            <span></span>
            <span></span>
          </div>
        </button>
      </div>
      <div class="header-center">
        <h1 class="header-title">Nuit Blanche</h1>
      </div>
      <div class="header-right">
        <button class="favorite-btn">
          <svg width="24" height="24" fill="none">
            <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z" stroke="white" stroke-width="2"/>
          </svg>
        </button>
      </div>
    </header>

    <div class="menu-dropdown" id="menuDropdown">
      <div class="menu-content">
        <nav class="menu-nav">
          <a href="index.html" class="menu-item">Home page</a>
          <a href="#" class="menu-item">Upcoming Events</a>
          <a href="my-events.html" class="menu-item">Saved Event</a>
          <a href="#" class="menu-item">Schedule Event</a>
        </nav>
      </div>
    </div>    <main class="main-content">
      <section class="hero-section">
        <div class="hero-carousel">
          <div class="carousel-slides">
            <div class="carousel-slide active" style="background-image: url('assets/images/1.svg')">
              <div class="slide-title">Balloonscape</div>
            </div>
            <div class="carousel-slide" style="background-image: url('assets/images/2.svg')">
              <div class="slide-title">OVIAS</div>
            </div>
            <div class="carousel-slide" style="background-image: url('assets/images/3.svg')">
              <div class="slide-title">Balloonscape</div>
            </div>
            <div class="carousel-slide" style="background-image: url('assets/images/4.svg')">
              <div class="slide-title">White Dwarf</div>
            </div>
            <div class="carousel-slide" style="background-image: url('assets/images/5.svg')">
              <div class="slide-title">Shapeshifter</div>
            </div>
            <div class="carousel-slide" style="background-image: url('assets/images/6.svg')">
              <div class="slide-title">Toronto Nocturnes</div>
            </div>
          </div>
          <button class="hero-nav-btn prev">
            <svg width="6" height="10" viewBox="0 0 6 10" fill="none">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M5.76144 5.55547L1.15212 10L0 8.88906L4.03325 5L0 1.11094L1.15212 0L5.76144 4.44453C5.91419 4.59187 6 4.79167 6 5C6 5.20833 5.91419 5.40813 5.76144 5.55547Z" fill="black"/>
            </svg>
          </button>
          <button class="hero-nav-btn next">
            <svg width="6" height="10" viewBox="0 0 6 10" fill="none">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M5.76144 5.55547L1.15212 10L0 8.88906L4.03325 5L0 1.11094L1.15212 0L5.76144 4.44453C5.91419 4.59187 6 4.79167 6 5C6 5.20833 5.91419 5.40813 5.76144 5.55547Z" fill="black"/>
            </svg>
          </button>
          <div class="carousel-dots">
            <span class="dot active"></span>
            <span class="dot"></span>
            <span class="dot"></span>
            <span class="dot"></span>
            <span class="dot"></span>
            <span class="dot"></span>
          </div>
        </div>
      </section>

      <section class="about-section">
        <h2 class="section-title">About Nuit Blanche</h2>
        <div class="about-content">
          <img src="assets/images/about.svg" alt="About Nuit Blanche" class="about-image" />
          <p class="about-text">
            Nuit Blanche is the Toronto's annual all-night celebration of contemporary art, produced by the City of Toronto in collaboration with Toronto's arts community. The locations, theme, curation and artists change from year to year, with a selection of projects extended after the event. Since 2006, this award-winning event has featured almost 1,600 art installations by approximately 5,500 artists and has generated over $489 million in economic impact for Toronto.
          </p>
        </div>
      </section>

      <section class="featured-artist-section">
        <h2 class="section-title">Featured Artist</h2>
        <div class="featured-artist-card">
          <img src="assets/images/face-sky.svg" alt="Facing the Sky" class="featured-artist-image" />
          <div class="featured-artist-info">
            <h3 class="featured-artist-title">Facing the Sky</h3>
            <p class="featured-artist-description">
              Joan Fontcuberta (1955, Barcelona, Spain) has developed both an artistic and a theoretical activity, which focuses on the conflicts between nature, technology and truth. He has done solo shows at MoMA (New York) and the Chicago Art Institute and his work is in the collections of the Metropolitan Museum of Art (NY), the National Gallery of Canada (Ottawa) and the Centre Georges Pompidou (Paris). In 2013, he was the recipient of the Hasselblad Foundation Award.
            </p>
          </div>
        </div>
      </section>

      <section class="upcoming-events-section">
        <h2 class="section-title">Upcoming Event</h2>
        <div class="event-card">
          <img src="assets/images/3.svg" alt="Balloonscape Event" class="event-image" />
          <div class="event-info">
            <h3 class="event-title">Balloonscape</h3>
            <p class="event-location">181, Bay street</p>
            <p class="event-date">July 12 2025 . 7pm</p>
            <div class="event-buttons">
              <button class="event-btn interested" data-title="Balloonscape" data-location="181, Bay street" data-date="July 12 2025 . 7pm" data-image="assets/images/3.svg">
                <img src="assets/images/heart.svg" alt="Heart" class="event-btn-icon" />
                Interested
              </button>
              <button class="event-btn going" data-title="Balloonscape" data-location="181, Bay street" data-date="July 12 2025 . 7pm" data-image="assets/images/3.svg">
                <img src="assets/images/tic.svg" alt="Check" class="event-btn-icon" />
                Going
              </button>
            </div>
          </div>
        </div>
        
        <div class="event-card">
          <img src="assets/images/2.svg" alt="OVIAs Event" class="event-image" />
          <div class="event-info">
            <h3 class="event-title">OVIAs</h3>
            <p class="event-location">225, Queen street</p>
            <p class="event-date">July 12 2025 . 7pm</p>
            <div class="event-buttons">
              <button class="event-btn interested" data-title="OVIAs" data-location="225, Queen street" data-date="July 12 2025 . 7pm" data-image="assets/images/2.svg">
                <img src="assets/images/heart.svg" alt="Heart" class="event-btn-icon" />
                Interested
              </button>
              <button class="event-btn going" data-title="OVIAs" data-location="225, Queen street" data-date="July 12 2025 . 7pm" data-image="assets/images/2.svg">
                <img src="assets/images/tic.svg" alt="Check" class="event-btn-icon" />
                Going
              </button>
            </div>
          </div>
        </div>

        <!-- Electric Fountain Event -->
        <div class="event-card">
          <div class="event-image" style="background-image: url('assets/images/electric.svg')"></div>
          <div class="event-content">
            <h3 class="event-title">Electric Fountain</h3>
            <p class="event-location">380 Queen st</p>
            <p class="event-date">Fri, Oct 4 • 7:00 PM</p>
            <div class="event-buttons">
              <button class="event-btn interested" data-title="Electric Fountain" data-location="380 Queen st" data-date="Fri, Oct 4 • 7:00 PM" data-image="assets/images/electric.svg">
                <img src="assets/images/heart.svg" alt="Heart" class="event-btn-icon" />
                Interested
              </button>
              <button class="event-btn going" data-title="Electric Fountain" data-location="380 Queen st" data-date="Fri, Oct 4 • 7:00 PM" data-image="assets/images/electric.svg">
                <img src="assets/images/tic.svg" alt="Check" class="event-btn-icon" />
                Going
              </button>
            </div>
          </div>
        </div>

        <!-- Under the Sea Event -->
        <div class="event-card">
          <div class="event-image" style="background-image: url('assets/images/sea.svg')"></div>
          <div class="event-content">
            <h3 class="event-title">Under the Sea</h3>
            <p class="event-location">The Tech Hub</p>
            <p class="event-date">Fri, Oct 4 • 7:00 PM</p>
            <div class="event-buttons">
              <button class="event-btn interested" data-title="Under the Sea" data-location="The Tech Hub" data-date="Fri, Oct 4 • 7:00 PM" data-image="assets/images/sea.svg">
                <img src="assets/images/heart.svg" alt="Heart" class="event-btn-icon" />
                Interested
              </button>
              <button class="event-btn going" data-title="Under the Sea" data-location="The Tech Hub" data-date="Fri, Oct 4 • 7:00 PM" data-image="assets/images/sea.svg">
                <img src="assets/images/tic.svg" alt="Check" class="event-btn-icon" />
                Going
              </button>
            </div>
          </div>
        </div>
      </section>

      <section class="gallery-section">
        <h2 class="section-title">Gallery</h2>
        <div class="gallery-grid">
          <img src="assets/images/gallery-1.svg" alt="Gallery Image 1" class="gallery-image" data-modal-image="assets/images/gallery-1.svg" />
          <img src="assets/images/gallery-2.svg" alt="Gallery Image 2" class="gallery-image" data-modal-image="assets/images/gallery-2.svg" />
          <img src="assets/images/gallery-3.svg" alt="Gallery Image 3" class="gallery-image" data-modal-image="assets/images/gallery-3.svg" />
          <img src="assets/images/gallery-4.svg" alt="Gallery Image 4" class="gallery-image" data-modal-image="assets/images/gallery-4.svg" />
        </div>
      </section>
    </main>

    <footer class="footer">
      <button class="footer-button active">
        <svg class="footer-icon">
          <use href="assets/images/home.svg" width="24" height="24"></use>
        </svg>
        <span class="footer-text">Home</span>
      </button>
      <button class="footer-button" onclick="window.location.href='exhibits.html'">
        <svg class="footer-icon">
          <use href="assets/images/calendar.svg" width="24" height="24"></use>
        </svg>
        <span class="footer-text">Exhibits</span>
      </button>
      <button class="footer-button" onclick="window.location.href='my-events.html'">
        <svg class="footer-icon">
          <use href="assets/images/heart.svg" width="24" height="24"></use>
        </svg>
        <span class="footer-text">My Events</span>
      </button>
      <button class="footer-button">
        <svg class="footer-icon">
          <use href="assets/images/person.svg" width="24" height="24"></use>
        </svg>
        <span class="footer-text">Profile</span>
      </button>
    </footer>
  </body>

  <script>
    document.querySelectorAll(".footer-button").forEach((button) => {
      button.addEventListener("click", () => {
        document
          .querySelectorAll(".footer-button")
          .forEach((btn) => btn.classList.remove("active"));
        button.classList.add("active");
      });
    });

    let currentSlide = 0;
    const slides = document.querySelectorAll('.carousel-slide');
    const dots = document.querySelectorAll('.dot');
    const prevBtn = document.querySelector('.hero-nav-btn.prev');
    const nextBtn = document.querySelector('.hero-nav-btn.next');

    function updateSlide(index) {
      slides.forEach((slide, i) => {
        slide.classList.toggle('active', i === index);
      });
      
      dots.forEach((dot, i) => {
        dot.classList.toggle('active', i === index);
      });
      
      currentSlide = index;
    }

    nextBtn.addEventListener('click', () => {
      currentSlide = (currentSlide + 1) % slides.length;
      updateSlide(currentSlide);
    });

    prevBtn.addEventListener('click', () => {
      currentSlide = (currentSlide - 1 + slides.length) % slides.length;
      updateSlide(currentSlide);
    });

    dots.forEach((dot, index) => {
      dot.addEventListener('click', () => {
        updateSlide(index);
      });
    });

    const menuBtn = document.querySelector('.menu-btn');
    const hamburger = document.querySelector('.hamburger');
    const menu = document.querySelector('.menu-dropdown');

    menuBtn.addEventListener('click', () => {
      hamburger.classList.toggle('active');
      
      if (menu.style.display === 'block') {
        menu.style.display = 'none';
      } else {
        menu.style.display = 'block';
      }
    });

    // Image Modal functionality
    const imageModal = document.getElementById('imageModal');
    const modalImage = document.getElementById('modalImage');
    const modalClose = document.getElementById('modalClose');
    const modalOverlay = document.getElementById('modalOverlay');
    const galleryImages = document.querySelectorAll('.gallery-image');

    // Open modal when gallery image is clicked
    galleryImages.forEach(image => {
      image.addEventListener('click', () => {
        const imageSrc = image.getAttribute('data-modal-image');
        const imageAlt = image.getAttribute('alt');
        
        modalImage.src = imageSrc;
        modalImage.alt = imageAlt;
        imageModal.style.display = 'flex';
        document.body.style.overflow = 'hidden'; // Prevent background scrolling
      });
    });

    // Close modal functions
    function closeModal() {
      imageModal.style.display = 'none';
      document.body.style.overflow = 'auto'; // Restore scrolling
    }

    modalClose.addEventListener('click', closeModal);
    modalOverlay.addEventListener('click', closeModal);

    // Close modal with Escape key
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && imageModal.style.display === 'flex') {
        closeModal();
      }
    });

    // Event button functionality
    function handleEventButton(button, eventData, type) {
      let events = JSON.parse(localStorage.getItem(type + 'Events') || '[]');
      const eventIndex = events.findIndex(e => e.title === eventData.title);
      
      if (eventIndex > -1) {
        // Remove event
        events.splice(eventIndex, 1);
        button.classList.remove('active');
      } else {
        // Add event
        events.push(eventData);
        button.classList.add('active');
      }
      
      localStorage.setItem(type + 'Events', JSON.stringify(events));
    }

    // Handle event button clicks
    function handleEventButton(button, eventData, type) {
      let interested = JSON.parse(localStorage.getItem('interestedEvents') || '[]');
      let going = JSON.parse(localStorage.getItem('goingEvents') || '[]');

      if (type === 'interested') {
        const index = interested.findIndex(e => e.title === eventData.title);
        if (index > -1) {
          interested.splice(index, 1);
          button.classList.remove('active');
        } else {
          interested.push(eventData);
          button.classList.add('active');
        }
        localStorage.setItem('interestedEvents', JSON.stringify(interested));
      } else if (type === 'going') {
        const index = going.findIndex(e => e.title === eventData.title);
        if (index > -1) {
          going.splice(index, 1);
          button.classList.remove('active');
        } else {
          going.push(eventData);
          button.classList.add('active');
        }
        localStorage.setItem('goingEvents', JSON.stringify(going));
      }
    }

    // Initialize event buttons
    document.querySelectorAll('.event-btn').forEach(button => {
      const isInterested = button.classList.contains('interested');
      const isGoing = button.classList.contains('going');
      
      // Get event data from button attributes
      const eventData = {
        title: button.getAttribute('data-title'),
        location: button.getAttribute('data-location'),
        date: button.getAttribute('data-date'),
        image: button.getAttribute('data-image'),
        crowdStatus: button.getAttribute('data-title') === 'Electric Fountain' ? 'Very crowded' : 'Not too crowded'
      };

      // Check if event is already saved
      if (isInterested) {
        const interestedEvents = JSON.parse(localStorage.getItem('interestedEvents') || '[]');
        if (interestedEvents.some(e => e.title === eventData.title)) {
          button.classList.add('active');
        }
      } else if (isGoing) {
        const goingEvents = JSON.parse(localStorage.getItem('goingEvents') || '[]');
        if (goingEvents.some(e => e.title === eventData.title)) {
          button.classList.add('active');
        }
      }

      // Add click event listener
      button.addEventListener('click', () => {
        if (isInterested) {
          handleEventButton(button, eventData, 'interested');
        } else if (isGoing) {
          handleEventButton(button, eventData, 'going');
        }
      });
    });
  </script>
</html>
